---
import Icon from '@/components/ui/Icon'
import BaseLayout from '@/layouts/BaseLayout.astro'

const response = await fetch(`https://api.adviceslip.com/advice`)
const {
  slip: { id, advice },
} = await response.json()
console.log(advice)
---

<BaseLayout title="Ask for Advice!">
  <main class="flex flex-col justify-center items-center h-full flex-grow p-4">
    <div
      class="bg-card flex flex-col justify-center gap-4 text-center pt-8 pb-10 px-6 max-w-[32ch] sm:w-[32ch] rounded-lg shadow-xl shadow-black/10 relative"
    >
      <lead class="text-primary uppercase font-medium text-2xs tracking-[0.2em]">Advice #{id + 1}</lead>
      <p class="text-xl font-bold">
        "{advice}"
      </p>
      <div class="flex items-center gap-4">
        <hr class="flex-grow border-foreground/15" />
        <Icon className="h-5 w-5 text-foreground/50" name="Ampersand" size="48" />
        <hr class="flex-grow border-foreground/15" />
      </div>

      <a
        href="/"
        data-astro-reload
        class="bg-primary text-background rounded-full p-2 absolute bottom-0 left-[50%] -translate-x-[50%] translate-y-[50%] hover:bg-primary-hover transition-all flex justify-center items-center"
      >
        <Icon className="h-6 w-6" name="Dice5" size="48" />
      </a>
    </div>
  </main>
</BaseLayout>
